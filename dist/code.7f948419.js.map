{"version":3,"sources":["classes.js","inputs.js","physics.js","platforms.js","time.js","graph.js","canvasRenderer/sprite.js","levelEditor.js","canvasRenderer/canvasRenderer.js","code.js","../../.nvm/versions/node/v20.7.0/lib/node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["GameObj","_createClass","x","y","_classCallCheck","pos","Platform","exports","_GameObj","_inherits","_super","_createSuper","w","_this","call","R","L","IDLE","GO","JUMP","DEATH","HERO","ENEMY1","LAVAMAN","LiveObj","_GameObj2","_super2","type","_this2","state","arguments","length","undefined","vel","dir","attack","State","lvl","hero","enemies","key","value","updateState","_ref","steering","mouse","mouseChanged","st","Input","_classes","require","keyboard","init","addEventListener","onKeyPress","onKeyUp","onMouseDown","onMouseUp","e","space","s","a","d","readInput","input","act","Number","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","_unsupportedIterableToArray","i","F","n","done","_e","f","TypeError","normalCompletion","didErr","err","step","next","_e2","return","minLen","_arrayLikeToArray","Object","prototype","toString","slice","constructor","name","from","test","arr","len","arr2","applyEnemyPhysics","applyPhysics","_iterator","_step","enemy","Math","abs","forEach","_s$hero","p","createLvl","shift","drawAxes","ctx","beginPath","moveTo","lineTo","font","fillText","strokeStyle","closePath","stroke","drawSqrt","sqrt","_typeof","instance","Constructor","_defineProperties","target","props","descriptor","enumerable","configurable","writable","defineProperty","_toPropertyKey","protoProps","staticProps","arg","_toPrimitive","String","hint","prim","toPrimitive","res","Sprite","img","anims","currentFrame","currentState","draw","animKey","_this$anims$get","get","x0","y0","h","spriteTime","allFrames","currN","floor","srcX","save","translate","scale","xx","yy","ww","hh","drawImage","strokeRect","drawOrigin","restore","lineWidth","Anim","drawPlatform","_graph","_ForestBoy","_interopRequireDefault","_enemies","_lavaman","_sprite","obj","__esModule","default","sprites","Map","cam","initRender","canvas","document","getElementById","getContext","fillStyle","loadAssets","heroSprite","createHeroSprite","set","createEnemy1Sprite","createLavamanSprite","heroImage","Image","src","forestboy","enemyImage","enemySheet","lavaImage","lavaSheet","coords","round","render","clearRect","width","height","fillRect","_state$hero","liveObject","sprite","_inputs","_physics","_platforms","_time","_canvasRenderer","initInput","window","initState","pxToKm","pow","garbageCollector","time","_state$enemies$i$pos","splice","loop","requestAnimationFrame","xm","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","hot","data","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","push","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","event","JSON","parse","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","id","every","generated","js","console","clear","hmrApply","v","hmrAcceptRun","reload","close","onclose","log","removeErrorOverlay","error","message","stack","overlay","createErrorOverlay","body","appendChild","remove","createElement","stackTrace","innerText","innerHTML","getParents","modules","parents","k","dep","concat","Function","deps","cached","cache","some","cb"],"mappings":"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","file":"code.7f948419.js","sourceRoot":"..","sourcesContent":["class GameObj{\n\n\tconstructor(x,y){\n\t\tthis.pos = {x,y}\n\t}\n\n\n};\n\nexport class Platform extends GameObj{\n\tconstructor(x,y,w){\n\n\t\tsuper(x,y);\n\t\tthis.w = w;\n\t}\n}\n// --- consts ----\nexport const R = 1\nexport const L = -1\n\n//-- states -----\nexport const IDLE = 0;\nexport const GO = 1;\nexport const JUMP = 2;\nexport const DEATH = 3;\n\n\n//--- types ----\nexport const HERO = 0;\nexport const ENEMY1 = 1;\nexport const LAVAMAN = 2;\n\nexport class LiveObj extends GameObj{\n\n\tconstructor(type,x,y, state = IDLE){\n\t\tsuper(x,y)\n\t\tthis.vel = {x:0,y:0}\n\t\tthis.state = state;\n\t\tthis.type = type;\n\t\tthis.dir = R \n\t\tthis.attack = -1\n\t}\n\n}\n\n\n\n\nexport class State{\n\tconstructor(lvl){\n\t\tthis.hero = new LiveObj(HERO, 10, 10, IDLE);\n\t\t//this.enemy = new LiveObj(ENEMY1, 490, 20, GO);\n\t\tthis.enemies = [new LiveObj(ENEMY1, 490, 20, GO),\n\t\t\t\t\t\tnew LiveObj(ENEMY1, 300, 100, GO),\n\t\t\t\t\t\tnew LiveObj(LAVAMAN, 250, 100, GO)]\n\t\tthis.lvl = lvl;\n\t\t//this.cam = {x:0,y:0}\n\n\t}\n\n\tupdateState({steering, mouse, mouseChanged}){\n\t \tif (mouseChanged){\n\t\t\tthis.hero.attack = 0\n\t\t}\n\t\telse if (this.hero.attack >= 20){\n\t\t\tthis.hero.attack = -1\n\t\t}\n\t\telse if (this.hero.attack >= 0){\n\t\t\tthis.hero.attack++\n\t\t}\n\t\t\n\n\t\tlet st = this.hero.state\n\t\tswitch (st){\n\t\t\tcase IDLE:\n\t\t\t\tif (steering.x != 0) {\n\t\t\t\t\tst = GO\n\t\t\t\t}else if(steering.y == 1){\n\t\t\t\t\tst=JUMP\n\t\t\t\t\tthis.hero.vel.y = -8\n\t\t\t\t}else {st=IDLE}\t\t\n\t\t\t\tbreak;\n\n\t\t\tcase GO :\n\t\t\t\tif (steering.x == 0) {\n\t\t\t\t\tst = IDLE\n\t\t\t\t}else if (steering.y == 1){\n\t\t\t\t\tst = JUMP\n\t\t\t\t\tthis.hero.vel.y = -8\n\t\t\t\t}else {st=GO}\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif (steering.x > 0){\n\t\t\tthis.hero.dir = R\n\t\t}else if (steering.x < 0){\n\t\t\tthis.hero.dir = L\n\t\t}\n\t\t\n\n\t\tthis.hero.state = st\n\n\t}\n\n};\n\nexport class Input{\n\tconstructor(){\n\t\tthis.steering = {x:0,y:0}\n\t\tthis.mouse = false\n\t\tthis.mouseChanged = false\n\n\t}\n\n\n}","import {HERO, ENEMY1, JUMP, GO,IDLE,Input} from './classes'\nvar keyboard = {\"w\":false,\n\t\t\t\t\"s\":false,\n\t\t\t\t\"a\":false,\n\t\t\t\t\"d\":false,\n\t\t\t\t\"space\":false};\n\nvar mouse = false\nvar mouseChanged = false\n\n\nexport function init(w){\n\n\tw.addEventListener('keydown', onKeyPress);\n\n\tw.addEventListener('keyup', onKeyUp);\n\n\tw.addEventListener('mousedown', onMouseDown);\n\n\tw.addEventListener('mouseup', onMouseUp);\n\n\n}\n\nfunction onMouseUp(e){\n\tmouse = false\n}\n\n\nfunction onMouseDown(e){\n\tmouse = true\n\tmouseChanged = true\n}\n\nfunction onKeyPress(e){\n\n\tswitch(e.key)\n\n\t{\n\t\tcase(\" \"):\n\t\t\tkeyboard.space = true;\n\t\t\tbreak;\n\n\t\tcase(\"w\"):\n\t\t\tkeyboard.w = true;\n\t\t\tbreak;\n\n\t\tcase(\"s\"):\n\t\t\tkeyboard.s = true;\n\t\t\tbreak;\n\n\t\tcase(\"a\"):\n\t\t\tkeyboard.a = true;\n\t\t\tbreak;\n\n\t\tcase(\"d\"):\n\t\t\tkeyboard.d = true;\n\t\t\tbreak;\n\n\t}\n\n\t\n}\n\nfunction onKeyUp(e){\n\n\tswitch(e.key)\n\n\t{\n\t\tcase(\" \"):\n\t\t\tkeyboard.space = false;\n\t\t\tbreak;\n\n\t\tcase(\"w\"):\n\t\t\tkeyboard.w = false;\n\t\t\tbreak;\n\n\t\tcase(\"s\"):\n\t\t\tkeyboard.s = false;\n\t\t\tbreak;\n\n\t\tcase(\"a\"):\n\t\t\tkeyboard.a = false;\n\t\t\tbreak;\n\n\t\tcase(\"d\"):\n\t\t\tkeyboard.d = false;\n\t\t\tbreak;\n\n\t}\n\n\t\n}\n\n\nexport function readInput(state){\n\n\tlet input = new Input()\n\n\tinput.act = keyboard.space\n\n\tinput.steering.y = Number(keyboard.w) - Number(keyboard.s)\n\tinput.steering.x = Number(keyboard.d) - Number(keyboard.a)\n\n\tinput.mouse = mouse\n\tinput.mouseChanged = mouseChanged\n\tmouseChanged = false // ЗЛО!\n\n\n\treturn input\n\n}","import {IDLE, GO, JUMP, L, R, DEATH} from './classes'\n\n\n\n//blabla\n\nfunction applyEnemyPhysics ({vel, pos, state, dir} ) {\n\t\n\tif (state == GO) {\n\t\tvel.x = -0.65\n\t\tvel.y += 0.25\n\t\tpos.x += vel.x\n\t\tpos.y += vel.y\n\n\t\tif (pos.y > 250){\n\t\t\tpos.y = 250;\n\t\t\tvel.y = 0\n\t\t}\n\t}\n\telse if (state == DEATH){\n\t\tvel.x = -0.65\n\t\tvel.y += 0.25\n\t\tpos.x += vel.x\n\t\tpos.y += vel.y\n\t}\t\n\n}\nexport function applyPhysics(s,input){\n\t\n\tfor (const enemy of s.enemies){\n\t\tif (enemy.state == DEATH) continue;\n\t\tif (Math.abs(enemy.pos.x - s.hero.pos.x) < 10 && \n\t\t\tMath.abs(enemy.pos.y - s.hero.pos.y) < 10 ){\n\t\t\t\tenemy.state = DEATH\n\t\t\t\tenemy.vel.y = -3\n\t\t\t}\n\n\t}\n\n\t// enemies physics\n\ts.enemies.forEach(applyEnemyPhysics);\n\n\t// hero physics\n\tconst {vel, pos, state, dir} = s.hero\n\n\n\tswitch (state) {\n\t\tcase IDLE:\n\t\t\tvel.x = 0\n\t\t\tbreak;\n\t\tcase GO:\n\t\t\tvel.x = input.steering.x \n\t\t\tbreak;\n\t\tcase JUMP:\t\t\t\n\t\t\tvel.x = input.steering.x \n\n\t\tdefault:\n\t\t\tbreak;\n\t}\n\n\tvel.y += 0.25\n\tpos.x += vel.x * 2\n\tpos.y += vel.y\n\n\t// collistion with gnd\n\tif (pos.y > 250){\n\n\t\ts.hero.state = input.steering.x == 0 ? IDLE : GO\n\t\tpos.y = 250;\n\t\tvel.y = 0\n\t}\n  \n\n   for (var i = 0; i < s.lvl.length; i++) {\n   \t\tlet p = s.lvl[i]\n   \t\tif (pos.y > p.pos.y && \n   \t\t\tpos.x + 5 > p.pos.x && \n   \t\t\tpos.x - 5 < p.pos.x + p.w &&\n   \t\t\tpos.y < p.pos.y + 10){\n\t\t\t\tif (vel.y > 0 ){\n\t\t\t\t\ts.hero.state = input.steering.x == 0 ? IDLE : GO\n\t\t\t\t\tpos.y = p.pos.y;\n\t\t\t\t\tvel.y = 0\t\n\t\t\t\t}\n\t\t\t\t\n   \t\t\t\n\n   \t\t}\n   \t\n   }\n\n\n\n}","import {Platform} from './classes'\n\n\n\nexport function createLvl(){\n\n\tlet w = 50\n\n\treturn [\n\t\tnew Platform(200,200,w),\n\t\tnew Platform(250,150,w),\n\t\tnew Platform(300,100,w),\n\t\tnew Platform(350,50,w),\n\t\tnew Platform(400,0,w)\n\t]\n\t\n}\n\n","export default {n:0}; // количество дров прошедших со старта игры\n","\nconst shift = 250;\nconst step = 10;\n\nexport function drawAxes(ctx) {\n\n\tctx.beginPath();\n\tctx.moveTo(0, shift);\n\tctx.lineTo(500, shift);\n\tctx.moveTo(shift, 0);\n\tctx.lineTo(shift, 500);\n\n\tctx.font = '9px arial'\n\tfor (let x = 0; x <= 25; x++) {\n\n\t\tlet y = 260;\n\t\t//ctx.moveTo(x*step + shift, y);\n\t\tctx.fillText(x, x*step + shift, y);\n\n\t\t\n\t}\n\tctx.strokeStyle = 'rgb(0, 0, 0)';\n\n\tctx.closePath();\n\tctx.stroke();\n\n}\n\n\n\n\nexport function drawSqrt(ctx) {\n\n\t\n\t\n\n\tctx.beginPath();\n\tctx.moveTo(shift, shift);\n\n\tfor (let x = 0; x <= 25; x++) {\n\t\t\n\t\tlet y = Math.sqrt(x);\n\t\tctx.lineTo(x*step + shift, -y*step + shift)\n\n\n\n\t}\n \tctx.strokeStyle = 'rgb(255, 0, 0)';\n\t//ctx.closePath();\n\tctx.stroke();\n\n}","import {L} from './../classes'\nexport class Sprite {\n\tconstructor(img, anims){\n\t\tthis.img = img\n\t\tthis.anims = anims\n\t\tthis.currentFrame = 0\n\t\tthis.currentState\n\t\t//this.w = 16\n\t\t//this.h = 24\n\t}\n\n\tdraw(ctx, state, pos, dir, attack){\n\n\t\tif(this.currentState != state){\n\t\t\tthis.currentState = state\n\t\t\tthis.currentFrame = 0\n\n\t\t}\n\t\t//console.log(attack)\n\t\tlet animKey = attack >= 0 ? \"attack\" : state\n\t\tif (attack == 0) this.currentFrame = 0;\n\t\tconst {n, x0, y0, w, h, spriteTime, shift} = this.anims.get(animKey)\t\n\t\t//console.log(shift)\n\n\t\t\n\t\tconst allFrames = n * spriteTime\n\n\t\tlet currN = Math.floor(this.currentFrame/spriteTime)\n\t\t\n\t\tconst srcX = x0 + currN*w\n\n\t\t//console.log(vel)\n\t\t\n\t\tif (dir == L){ \n\n\t\t\tctx.save();\n\t\t\tctx.strokeStyle = 'red'\n\t\t\tctx.translate(pos.x, 0)\n\t\t\tctx.scale(-1, 1);\n\t\t\tlet xx = w - shift, yy = pos.y - h, ww = -w, hh = h\n\n\n\t\t\tctx.drawImage(this.img, srcX, y0, w, h, \n\t\t\t \txx, \n\t\t\t\tyy , ww, hh);\n\t\t\tctx.strokeRect(xx, yy , ww, hh);\n\t\t\tdrawOrigin(ctx, 0, pos.y)\n\t\t\tctx.restore();\n\t\t} else {\n\t\t\tctx.save()\n\t\t\tctx.translate(pos.x, 0)\n\t\t\tlet xx = -shift, yy = pos.y - h, ww = w, hh = h\n\t\t\tctx.drawImage(this.img, srcX, y0, w, h, \n\t\t\t \txx, //-shift,//pos.x - shift, \n\t\t\t\t yy , ww, hh);\n\n\t\t\tctx.strokeRect(xx, yy , ww, hh);\n\t\t\tdrawOrigin(ctx, 0, pos.y)\n\t\t\tctx.restore()\n\t\t}\n\n\n\t\tthis.currentFrame++;\n\t\tthis.currentFrame %= allFrames\n\t}\n}\n\nfunction drawOrigin(ctx, x, y){\n\tlet d = 20\n\tctx.save()\n\t\tctx.strokeStyle = 'green'\n\t\tctx.lineWidth = 1;\n\t\tctx.beginPath()\t\n\t\tctx.moveTo(x, y - d);\n\t\tctx.lineTo(x, y + d);\n\t\tctx.moveTo(x - d, y);\n\t\tctx.lineTo(x + d, y);\n\t\tctx.closePath()\n\t\tctx.stroke();\n\tctx.restore()\n}\n\nexport class Anim {\n\tconstructor(n, x0, y0, w, h,spriteTime, shift ){\n\t\tthis.n = n\n\t\tthis.x0 = x0\n\t\tthis.y0 = y0\n\t\tthis.w = w\n\t\tthis.shift = shift || w/2\n\t\tthis.h = h\n\t\tthis.spriteTime = spriteTime\n\t}\n}","export function drawPlatform() {\n\t\n}","import {drawAxes, drawSqrt} from './../graph'\nimport forestboy from './../ForestBoy.png'\nimport enemySheet from './../enemies.png'\nimport lavaSheet from './../assets/lavaman.png'\nimport {HERO, ENEMY1, JUMP, GO,IDLE, DEATH, LAVAMAN} from './../classes'\nimport {Sprite, Anim} from './sprite'\nimport {} from './../levelEditor'\n\n\n// 22:36 воры уехали...\n\nconst sprites = new Map()\nconst cam = {x:250,y:0}\n\nlet ctx;\n\nexport function initRender(){\n\n\tconst canvas = document.getElementById('tututu');\n\tctx = canvas.getContext('2d');\n\tctx.fillStyle = 'rgba(0, 0, 200, 0.5)'\n}\n\n\nexport function loadAssets(state){\n\n\t// HERO\n\tconst heroSprite = createHeroSprite();\n\tsprites.set(state.hero, heroSprite);\n\n\t// ENEMY1\n\t//const enemy = createEnemy1Sprite();\n\n\tfor(let i = 0;i < state.enemies.length; i++){\n\t\tlet enemy = state.enemies[i]\n\t\tswitch (enemy.type) {\n\t\t\tcase ENEMY1: sprites.set (enemy ,createEnemy1Sprite(enemy) )\n\t\t\t\tbreak;\n\t\t\tcase LAVAMAN: sprites.set (enemy ,createLavamanSprite(enemy) )\n\t\t\t\tbreak;\n\t\t}\n\t\t\n\n\t}\n\t//sprites.set(ENEMY1, enemy);\n\n\n\n}\n\nfunction createHeroSprite (){\n\tconst anims  = new Map()\n\t//n, x0, y0, w, h,spriteTime , shift\n\tanims.set(GO,       new Anim(6, 11, 43, 16, 17, 5))\n\tanims.set(IDLE,     new Anim(3, 11, 12, 16, 18, 14))\n\tanims.set(JUMP,     new Anim(3, 59, 44, 16, 18, 10))\n\tanims.set(\"attack\", new Anim(4, 8, 122, 26, 18, 5, 6))\n\n\tconst heroImage = new Image();\n\theroImage.src = forestboy;\n\t//console.log (forestboy);\n\treturn new Sprite(heroImage, anims);\n}\n\nfunction createEnemy1Sprite (enemy){\n\tconst anims  = new Map()\n\t//n, x0, y0, w, h,spriteTime \n\tanims.set(GO, new Anim(4, 0, 0, 30, 15, 8))\n\tanims.set(DEATH, new Anim(4, 0, 0, 30, 15, 8))\n//\tanims.set(IDLE, new Anim(3, 11, 12, 16, 18, 14))\n//\tanims.set(JUMP, new Anim(3, 59, 44, 16, 18, 10))\n\n\tconst enemyImage = new Image();\n\tenemyImage.src = enemySheet;\n\treturn new Sprite(enemyImage, anims);\n\t\n}\n\nfunction createLavamanSprite (enemy){\n\tconst anims  = new Map()\n\t//n, x0, y0, w, h,spriteTime \n\tanims.set(GO, new Anim(50, 0, 0, 64, 64, 1))\n//\tanims.set(DEATH, new Anim(4, 0, 0, 30, 15, 8))\n//\tanims.set(IDLE, new Anim(3, 11, 12, 16, 18, 14))\n//\tanims.set(JUMP, new Anim(3, 59, 44, 16, 18, 10))\n\n\tconst lavaImage = new Image();\n\tlavaImage.src = lavaSheet;\n\treturn new Sprite(lavaImage, anims);\n\t\n}\n\n\n\n\n\n\nexport function coords (ctx, hero){\n\n\tctx.font = '15px arial'\n\tctx.fillText(Math.round(hero.pos.x)+':'+Math.round(hero.pos.y), 350 ,470 );\n\tctx.fillText(Math.round(hero.vel.x)+':'+Math.round(hero.vel.y), 350 ,485 );\n\n\n}\n\n\n\n\nexport function render(state) {\n//console.log(state.hero.x;\n//----- camera ---\n\tif (state.hero.pos.x > cam.x){\n\t\tcam.x = state.hero.pos.x \n\t\t\n\t}\n\n\tif (state.hero.pos.x < cam.x - 240){\n\t\tcam.x = state.hero.pos.x + 240\n\t\t\n\t}\n\n\n\t\n\tcam.y = state.hero.pos.y - 250\n\n\t\n\t\n\n\tctx.clearRect(0,0, ctx.canvas.width, ctx.canvas.height);\n\n\n\tctx.save();\n\tctx.translate(-(cam.x - 250), -cam.y)\n\n\tcoords(ctx, state.hero);\n\n  \tdrawAxes(ctx);\n\tdrawSqrt(ctx);\n\n\tfor (let i = 0; i < state.lvl.length; i++) {\n\n\t\tlet p = state.lvl[i]\n\t\t//ctx.fillStyle = 'rgb(200, 150, 150)'\n\t\tctx.fillStyle = 'lwn'\n\t\tctx.fillRect(p.pos.x, p.pos.y, p.w, 50);\n\n\t\t \n\t}\n\n\t//-- hero -------------\n\tconst {dir, pos, state: st, attack} = state.hero \n\tsprites.get(state.hero).draw(ctx, st, pos, dir, attack);\n\t//-- enemy ------------\n\n\tfor (let liveObject of state.enemies){\n\t\t//console.log(liveObject)\n\t\tlet sprite = sprites.get(liveObject)\n\t\tsprite.draw(ctx, liveObject.state, liveObject.pos, liveObject.dir);\n\t}\n\t//shadowPlarform();\n\n\tctx.restore();\n\n\t\n} \n\n","import {init as initInput, readInput} from './inputs'\nimport {applyPhysics} from './physics'\nimport {createLvl} from './platforms'\nimport {Platform, LiveObj, State} from './classes'\nimport  time from './time'\nimport {initRender, render, loadAssets} from './canvasRenderer/canvasRenderer'\n\nlet state;\n\n\n// --- init -----------------\nfunction init(){\n\n\tinitRender();\n\tinitInput(window);\n\tinitState();\n\tloadAssets(state);\n\n}\n\nfunction initState(){\t \n\tstate = new State(createLvl());\n};\n\n\n \n// ---  update ----\n\nfunction pxToKm (y){\n\treturn y*((198/108) * Math.pow(10, -5))\n}\n\nfunction garbageCollector(){\n\tif (time.n % 10 != 0) return;// hразряжаем\n\n\tfor (let i = 0; i < state.enemies.length; i++){\n\t\tconst {x,y} = state.enemies[i].pos;\n\t\tif (y > 300 || x < -10){\n\t\t\t//delete state.enemies[i];\n\t\t\tstate.enemies.splice(i, 1);\n\t\n\t\t}\n\t}\n}\n\n\n\nfunction loop(){\n\n\twindow.requestAnimationFrame(loop);\n\tconst input = readInput(state, input);\n\tstate.updateState(input);\n\tapplyPhysics(state, input);\n\t    \n\t//console.log(state.enemies[0].pos.y);\n\t// zzxsz\n\t\n\tgarbageCollector();\n\trender(state);\n\tlet xm = 50\n\tif (state.hero.vel.y == -5){\n\t\t//new Platform(Math.random()*500,Math.random()*500,xm)\n\t}\n\t\n\t// update time\n\ttime.n++\n\t\n}\n\n\n\n//--- start -----------\ninit();\n\nloop();\n/*\nvar audioCtx = new AudioContext();\n\nvar oscillator = audioCtx.createOscillator();\nvar gainNode = audioCtx.createGain();\n\noscillator.connect(gainNode);\ngainNode.connect(audioCtx.destination);\n\noscillator.detune.value = 0; // value in cents\n oscillator.start(0);\n\nsetInterval(()=>{\n\toscillator.detune.value = 1200; // value in cents\n\t// oscillator.start(0);\n\t\n\tsetInterval(()=>{\n\t\toscillator.detune.value = 700; // value in cents\n\t\t\n\t\t\tsetInterval(()=>{\n\t\t\toscillator.detune.value = 00; // value in cents\n\t\t\t\toscillator.stop(3);\n\t\t\t\n\t\t\n\t\t}, 1000)\n\t}, 1000)\n}, 1000)\n\n*/\n\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}