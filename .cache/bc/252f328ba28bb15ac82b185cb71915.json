{"id":"code.js","dependencies":[{"name":"/home/nikita/bogomol/package.json","includedInParent":true,"mtime":1576437913712},{"name":"./inputs","loc":{"line":1,"column":43},"parent":"/home/nikita/bogomol/code.js","resolved":"/home/nikita/bogomol/inputs.js"},{"name":"./physics","loc":{"line":2,"column":27},"parent":"/home/nikita/bogomol/code.js","resolved":"/home/nikita/bogomol/physics.js"},{"name":"./platforms","loc":{"line":3,"column":24},"parent":"/home/nikita/bogomol/code.js","resolved":"/home/nikita/bogomol/platforms.js"},{"name":"./classes","loc":{"line":4,"column":39},"parent":"/home/nikita/bogomol/code.js","resolved":"/home/nikita/bogomol/classes.js"},{"name":"./time","loc":{"line":5,"column":18},"parent":"/home/nikita/bogomol/code.js","resolved":"/home/nikita/bogomol/time.js"},{"name":"./canvasRenderer/canvasRenderer","loc":{"line":6,"column":45},"parent":"/home/nikita/bogomol/code.js","resolved":"/home/nikita/bogomol/canvasRenderer/canvasRenderer.js"}],"generated":{"js":"\"use strict\";\n\nvar _inputs = require(\"./inputs\");\n\nvar _physics = require(\"./physics\");\n\nvar _platforms = require(\"./platforms\");\n\nvar _classes = require(\"./classes\");\n\nvar _time = _interopRequireDefault(require(\"./time\"));\n\nvar _canvasRenderer = require(\"./canvasRenderer/canvasRenderer\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar state; // --- init -----------------\n\nfunction init() {\n  (0, _canvasRenderer.initRender)();\n  (0, _inputs.init)(window);\n  initState();\n  (0, _canvasRenderer.loadAssets)(state);\n}\n\nfunction initState() {\n  state = new _classes.State((0, _platforms.createLvl)());\n}\n\n; // ---  update ----\n\nfunction pxToKm(y) {\n  return y * (198 / 108 * Math.pow(10, -5));\n}\n\nfunction garbageCollector() {\n  if (_time.default.n % 10 != 0) return; // hразряжаем\n\n  for (var i = 0; i < state.enemies.length; i++) {\n    var _state$enemies$i$pos = state.enemies[i].pos,\n        x = _state$enemies$i$pos.x,\n        y = _state$enemies$i$pos.y;\n\n    if (y > 300 || x < -10) {\n      //delete state.enemies[i];\n      state.enemies.splice(i, 1);\n    }\n  }\n}\n\nfunction loop() {\n  window.requestAnimationFrame(loop);\n  var input = (0, _inputs.readInput)(state, input);\n  state.updateState(input);\n  (0, _physics.applyPhysics)(state, input); //console.log(state.enemies[0].pos.y);\n  // zzxsz\n\n  garbageCollector();\n  (0, _canvasRenderer.render)(state);\n  var xm = 50;\n\n  if (state.hero.vel.y == -5) {} //new Platform(Math.random()*500,Math.random()*500,xm)\n  // update time\n\n\n  _time.default.n++;\n} //--- start -----------\n\n\ninit();\nloop();\n/*\nvar audioCtx = new AudioContext();\n\nvar oscillator = audioCtx.createOscillator();\nvar gainNode = audioCtx.createGain();\n\noscillator.connect(gainNode);\ngainNode.connect(audioCtx.destination);\n\noscillator.detune.value = 0; // value in cents\n oscillator.start(0);\n\nsetInterval(()=>{\n\toscillator.detune.value = 1200; // value in cents\n\t// oscillator.start(0);\n\t\n\tsetInterval(()=>{\n\t\toscillator.detune.value = 700; // value in cents\n\t\t\n\t\t\tsetInterval(()=>{\n\t\t\toscillator.detune.value = 00; // value in cents\n\t\t\t\toscillator.stop(3);\n\t\t\t\n\t\t\n\t\t}, 1000)\n\t}, 1000)\n}, 1000)\n\n*/"},"sourceMaps":{"js":{"mappings":[{"generated":{"line":3,"column":0},"source":"code.js","original":{"line":1,"column":0}},{"generated":{"line":5,"column":0},"source":"code.js","original":{"line":2,"column":0}},{"generated":{"line":7,"column":0},"source":"code.js","original":{"line":3,"column":0}},{"generated":{"line":9,"column":0},"source":"code.js","original":{"line":4,"column":0}},{"generated":{"line":11,"column":0},"source":"code.js","original":{"line":5,"column":0}},{"generated":{"line":13,"column":0},"source":"code.js","original":{"line":6,"column":0}},{"generated":{"line":17,"column":0},"source":"code.js","original":{"line":8,"column":0}},{"name":"state","generated":{"line":17,"column":4},"source":"code.js","original":{"line":8,"column":4}},{"generated":{"line":17,"column":9},"source":"code.js","original":{"line":8,"column":0}},{"generated":{"line":17,"column":11},"source":"code.js","original":{"line":11,"column":0}},{"generated":{"line":19,"column":0},"source":"code.js","original":{"line":12,"column":0}},{"name":"init","generated":{"line":19,"column":9},"source":"code.js","original":{"line":12,"column":9}},{"generated":{"line":19,"column":13},"source":"code.js","original":{"line":12,"column":0}},{"generated":{"line":19,"column":16},"source":"code.js","original":{"line":12,"column":15}},{"generated":{"line":20,"column":0},"source":"code.js","original":{"line":14,"column":1}},{"generated":{"line":21,"column":0},"source":"code.js","original":{"line":15,"column":1}},{"name":"window","generated":{"line":21,"column":20},"source":"code.js","original":{"line":15,"column":11}},{"generated":{"line":21,"column":26},"source":"code.js","original":{"line":15,"column":1}},{"name":"initState","generated":{"line":22,"column":0},"source":"code.js","original":{"line":16,"column":1}},{"name":"initState","generated":{"line":22,"column":2},"source":"code.js","original":{"line":16,"column":1}},{"generated":{"line":22,"column":11},"source":"code.js","original":{"line":16,"column":10}},{"generated":{"line":23,"column":0},"source":"code.js","original":{"line":17,"column":1}},{"name":"state","generated":{"line":23,"column":34},"source":"code.js","original":{"line":17,"column":12}},{"generated":{"line":23,"column":39},"source":"code.js","original":{"line":17,"column":1}},{"generated":{"line":24,"column":0},"source":"code.js","original":{"line":19,"column":1}},{"generated":{"line":26,"column":0},"source":"code.js","original":{"line":21,"column":0}},{"name":"initState","generated":{"line":26,"column":9},"source":"code.js","original":{"line":21,"column":9}},{"generated":{"line":26,"column":18},"source":"code.js","original":{"line":21,"column":0}},{"generated":{"line":26,"column":21},"source":"code.js","original":{"line":21,"column":20}},{"name":"state","generated":{"line":27,"column":0},"source":"code.js","original":{"line":22,"column":1}},{"name":"state","generated":{"line":27,"column":2},"source":"code.js","original":{"line":22,"column":1}},{"generated":{"line":27,"column":7},"source":"code.js","original":{"line":22,"column":6}},{"generated":{"line":27,"column":10},"source":"code.js","original":{"line":22,"column":9}},{"name":"State","generated":{"line":27,"column":14},"source":"code.js","original":{"line":22,"column":13}},{"generated":{"line":27,"column":28},"source":"code.js","original":{"line":22,"column":9}},{"generated":{"line":27,"column":29},"source":"code.js","original":{"line":22,"column":19}},{"generated":{"line":27,"column":56},"source":"code.js","original":{"line":22,"column":9}},{"generated":{"line":27,"column":57},"source":"code.js","original":{"line":22,"column":1}},{"generated":{"line":28,"column":0},"source":"code.js","original":{"line":23,"column":1}},{"generated":{"line":30,"column":0},"source":"code.js","original":{"line":23,"column":1}},{"generated":{"line":30,"column":2},"source":"code.js","original":{"line":27,"column":0}},{"generated":{"line":32,"column":0},"source":"code.js","original":{"line":29,"column":0}},{"name":"pxToKm","generated":{"line":32,"column":9},"source":"code.js","original":{"line":29,"column":9}},{"generated":{"line":32,"column":15},"source":"code.js","original":{"line":29,"column":0}},{"name":"y","generated":{"line":32,"column":16},"source":"code.js","original":{"line":29,"column":17}},{"generated":{"line":32,"column":17},"source":"code.js","original":{"line":29,"column":0}},{"generated":{"line":32,"column":19},"source":"code.js","original":{"line":29,"column":19}},{"generated":{"line":33,"column":0},"source":"code.js","original":{"line":30,"column":1}},{"name":"y","generated":{"line":33,"column":9},"source":"code.js","original":{"line":30,"column":8}},{"generated":{"line":33,"column":10},"source":"code.js","original":{"line":30,"column":9}},{"generated":{"line":33,"column":14},"source":"code.js","original":{"line":30,"column":12}},{"generated":{"line":33,"column":20},"source":"code.js","original":{"line":30,"column":16}},{"generated":{"line":33,"column":23},"source":"code.js","original":{"line":30,"column":11}},{"name":"Math","generated":{"line":33,"column":26},"source":"code.js","original":{"line":30,"column":23}},{"generated":{"line":33,"column":30},"source":"code.js","original":{"line":30,"column":27}},{"name":"pow","generated":{"line":33,"column":31},"source":"code.js","original":{"line":30,"column":28}},{"generated":{"line":33,"column":34},"source":"code.js","original":{"line":30,"column":23}},{"generated":{"line":33,"column":35},"source":"code.js","original":{"line":30,"column":32}},{"generated":{"line":33,"column":37},"source":"code.js","original":{"line":30,"column":23}},{"generated":{"line":33,"column":39},"source":"code.js","original":{"line":30,"column":36}},{"generated":{"line":33,"column":40},"source":"code.js","original":{"line":30,"column":37}},{"generated":{"line":33,"column":41},"source":"code.js","original":{"line":30,"column":23}},{"generated":{"line":33,"column":42},"source":"code.js","original":{"line":30,"column":9}},{"generated":{"line":33,"column":43},"source":"code.js","original":{"line":30,"column":1}},{"generated":{"line":34,"column":0},"source":"code.js","original":{"line":31,"column":1}},{"generated":{"line":36,"column":0},"source":"code.js","original":{"line":33,"column":0}},{"name":"garbageCollector","generated":{"line":36,"column":9},"source":"code.js","original":{"line":33,"column":9}},{"generated":{"line":36,"column":25},"source":"code.js","original":{"line":33,"column":0}},{"generated":{"line":36,"column":28},"source":"code.js","original":{"line":33,"column":27}},{"generated":{"line":37,"column":0},"source":"code.js","original":{"line":34,"column":1}},{"name":"time","generated":{"line":37,"column":6},"source":"code.js","original":{"line":34,"column":5}},{"name":"n","generated":{"line":37,"column":20},"source":"code.js","original":{"line":34,"column":10}},{"generated":{"line":37,"column":21},"source":"code.js","original":{"line":34,"column":5}},{"generated":{"line":37,"column":24},"source":"code.js","original":{"line":34,"column":14}},{"generated":{"line":37,"column":26},"source":"code.js","original":{"line":34,"column":5}},{"generated":{"line":37,"column":30},"source":"code.js","original":{"line":34,"column":20}},{"generated":{"line":37,"column":31},"source":"code.js","original":{"line":34,"column":1}},{"generated":{"line":37,"column":33},"source":"code.js","original":{"line":34,"column":23}},{"generated":{"line":37,"column":40},"source":"code.js","original":{"line":33,"column":27}},{"generated":{"line":37,"column":41},"source":"code.js","original":{"line":34,"column":30}},{"generated":{"line":39,"column":0},"source":"code.js","original":{"line":36,"column":1}},{"generated":{"line":39,"column":7},"source":"code.js","original":{"line":36,"column":6}},{"name":"i","generated":{"line":39,"column":11},"source":"code.js","original":{"line":36,"column":10}},{"generated":{"line":39,"column":12},"source":"code.js","original":{"line":36,"column":11}},{"generated":{"line":39,"column":15},"source":"code.js","original":{"line":36,"column":14}},{"generated":{"line":39,"column":16},"source":"code.js","original":{"line":36,"column":1}},{"name":"i","generated":{"line":39,"column":18},"source":"code.js","original":{"line":36,"column":17}},{"generated":{"line":39,"column":19},"source":"code.js","original":{"line":36,"column":18}},{"name":"state","generated":{"line":39,"column":22},"source":"code.js","original":{"line":36,"column":21}},{"generated":{"line":39,"column":27},"source":"code.js","original":{"line":36,"column":26}},{"name":"enemies","generated":{"line":39,"column":28},"source":"code.js","original":{"line":36,"column":27}},{"generated":{"line":39,"column":35},"source":"code.js","original":{"line":36,"column":21}},{"name":"length","generated":{"line":39,"column":36},"source":"code.js","original":{"line":36,"column":35}},{"generated":{"line":39,"column":42},"source":"code.js","original":{"line":36,"column":1}},{"name":"i","generated":{"line":39,"column":44},"source":"code.js","original":{"line":36,"column":43}},{"generated":{"line":39,"column":45},"source":"code.js","original":{"line":36,"column":44}},{"generated":{"line":39,"column":47},"source":"code.js","original":{"line":36,"column":1}},{"generated":{"line":39,"column":49},"source":"code.js","original":{"line":36,"column":47}},{"generated":{"line":40,"column":0},"source":"code.js","original":{"line":36,"column":47}},{"name":"state","generated":{"line":40,"column":31},"source":"code.js","original":{"line":37,"column":16}},{"generated":{"line":40,"column":36},"source":"code.js","original":{"line":37,"column":21}},{"name":"enemies","generated":{"line":40,"column":37},"source":"code.js","original":{"line":37,"column":22}},{"generated":{"line":40,"column":44},"source":"code.js","original":{"line":37,"column":16}},{"name":"i","generated":{"line":40,"column":45},"source":"code.js","original":{"line":37,"column":30}},{"generated":{"line":40,"column":46},"source":"code.js","original":{"line":37,"column":16}},{"name":"pos","generated":{"line":40,"column":48},"source":"code.js","original":{"line":37,"column":33}},{"generated":{"line":40,"column":51},"source":"code.js","original":{"line":36,"column":47}},{"generated":{"line":41,"column":0},"source":"code.js","original":{"line":36,"column":47}},{"name":"x","generated":{"line":41,"column":8},"source":"code.js","original":{"line":37,"column":9}},{"generated":{"line":41,"column":9},"source":"code.js","original":{"line":36,"column":47}},{"name":"x","generated":{"line":41,"column":33},"source":"code.js","original":{"line":37,"column":9}},{"generated":{"line":41,"column":34},"source":"code.js","original":{"line":36,"column":47}},{"generated":{"line":42,"column":0},"source":"code.js","original":{"line":36,"column":47}},{"name":"y","generated":{"line":42,"column":8},"source":"code.js","original":{"line":37,"column":11}},{"generated":{"line":42,"column":9},"source":"code.js","original":{"line":36,"column":47}},{"name":"y","generated":{"line":42,"column":33},"source":"code.js","original":{"line":37,"column":11}},{"generated":{"line":42,"column":34},"source":"code.js","original":{"line":36,"column":47}},{"generated":{"line":44,"column":0},"source":"code.js","original":{"line":38,"column":2}},{"name":"y","generated":{"line":44,"column":8},"source":"code.js","original":{"line":38,"column":6}},{"generated":{"line":44,"column":9},"source":"code.js","original":{"line":38,"column":7}},{"generated":{"line":44,"column":12},"source":"code.js","original":{"line":38,"column":10}},{"generated":{"line":44,"column":15},"source":"code.js","original":{"line":38,"column":6}},{"name":"x","generated":{"line":44,"column":19},"source":"code.js","original":{"line":38,"column":17}},{"generated":{"line":44,"column":20},"source":"code.js","original":{"line":38,"column":18}},{"generated":{"line":44,"column":23},"source":"code.js","original":{"line":38,"column":21}},{"generated":{"line":44,"column":24},"source":"code.js","original":{"line":38,"column":22}},{"generated":{"line":44,"column":26},"source":"code.js","original":{"line":38,"column":2}},{"generated":{"line":44,"column":28},"source":"code.js","original":{"line":38,"column":25}},{"generated":{"line":45,"column":0},"source":"code.js","original":{"line":39,"column":3}},{"name":"state","generated":{"line":46,"column":0},"source":"code.js","original":{"line":40,"column":3}},{"name":"state","generated":{"line":46,"column":6},"source":"code.js","original":{"line":40,"column":3}},{"generated":{"line":46,"column":11},"source":"code.js","original":{"line":40,"column":8}},{"name":"enemies","generated":{"line":46,"column":12},"source":"code.js","original":{"line":40,"column":9}},{"generated":{"line":46,"column":19},"source":"code.js","original":{"line":40,"column":3}},{"name":"splice","generated":{"line":46,"column":20},"source":"code.js","original":{"line":40,"column":17}},{"generated":{"line":46,"column":26},"source":"code.js","original":{"line":40,"column":3}},{"name":"i","generated":{"line":46,"column":27},"source":"code.js","original":{"line":40,"column":24}},{"generated":{"line":46,"column":28},"source":"code.js","original":{"line":40,"column":3}},{"generated":{"line":46,"column":30},"source":"code.js","original":{"line":40,"column":27}},{"generated":{"line":46,"column":31},"source":"code.js","original":{"line":40,"column":3}},{"generated":{"line":47,"column":0},"source":"code.js","original":{"line":42,"column":3}},{"generated":{"line":48,"column":0},"source":"code.js","original":{"line":43,"column":2}},{"generated":{"line":49,"column":0},"source":"code.js","original":{"line":44,"column":1}},{"generated":{"line":51,"column":0},"source":"code.js","original":{"line":48,"column":0}},{"name":"loop","generated":{"line":51,"column":9},"source":"code.js","original":{"line":48,"column":9}},{"generated":{"line":51,"column":13},"source":"code.js","original":{"line":48,"column":0}},{"generated":{"line":51,"column":16},"source":"code.js","original":{"line":48,"column":15}},{"name":"window","generated":{"line":52,"column":0},"source":"code.js","original":{"line":50,"column":1}},{"name":"window","generated":{"line":52,"column":2},"source":"code.js","original":{"line":50,"column":1}},{"generated":{"line":52,"column":8},"source":"code.js","original":{"line":50,"column":7}},{"name":"requestAnimationFrame","generated":{"line":52,"column":9},"source":"code.js","original":{"line":50,"column":8}},{"generated":{"line":52,"column":30},"source":"code.js","original":{"line":50,"column":1}},{"name":"loop","generated":{"line":52,"column":31},"source":"code.js","original":{"line":50,"column":30}},{"generated":{"line":52,"column":35},"source":"code.js","original":{"line":50,"column":1}},{"generated":{"line":53,"column":0},"source":"code.js","original":{"line":51,"column":1}},{"name":"input","generated":{"line":53,"column":6},"source":"code.js","original":{"line":51,"column":7}},{"generated":{"line":53,"column":11},"source":"code.js","original":{"line":51,"column":12}},{"generated":{"line":53,"column":14},"source":"code.js","original":{"line":51,"column":15}},{"name":"state","generated":{"line":53,"column":37},"source":"code.js","original":{"line":51,"column":25}},{"generated":{"line":53,"column":42},"source":"code.js","original":{"line":51,"column":15}},{"name":"input","generated":{"line":53,"column":44},"source":"code.js","original":{"line":51,"column":32}},{"generated":{"line":53,"column":49},"source":"code.js","original":{"line":51,"column":15}},{"generated":{"line":53,"column":50},"source":"code.js","original":{"line":51,"column":1}},{"name":"state","generated":{"line":54,"column":0},"source":"code.js","original":{"line":52,"column":1}},{"name":"state","generated":{"line":54,"column":2},"source":"code.js","original":{"line":52,"column":1}},{"generated":{"line":54,"column":7},"source":"code.js","original":{"line":52,"column":6}},{"name":"updateState","generated":{"line":54,"column":8},"source":"code.js","original":{"line":52,"column":7}},{"generated":{"line":54,"column":19},"source":"code.js","original":{"line":52,"column":1}},{"name":"input","generated":{"line":54,"column":20},"source":"code.js","original":{"line":52,"column":19}},{"generated":{"line":54,"column":25},"source":"code.js","original":{"line":52,"column":1}},{"generated":{"line":55,"column":0},"source":"code.js","original":{"line":53,"column":1}},{"name":"state","generated":{"line":55,"column":29},"source":"code.js","original":{"line":53,"column":14}},{"generated":{"line":55,"column":34},"source":"code.js","original":{"line":53,"column":1}},{"name":"input","generated":{"line":55,"column":36},"source":"code.js","original":{"line":53,"column":21}},{"generated":{"line":55,"column":41},"source":"code.js","original":{"line":53,"column":1}},{"generated":{"line":55,"column":43},"source":"code.js","original":{"line":48,"column":15}},{"generated":{"line":55,"column":44},"source":"code.js","original":{"line":55,"column":1}},{"generated":{"line":56,"column":0},"source":"code.js","original":{"line":56,"column":1}},{"name":"garbageCollector","generated":{"line":58,"column":0},"source":"code.js","original":{"line":58,"column":1}},{"name":"garbageCollector","generated":{"line":58,"column":2},"source":"code.js","original":{"line":58,"column":1}},{"generated":{"line":58,"column":18},"source":"code.js","original":{"line":58,"column":17}},{"generated":{"line":59,"column":0},"source":"code.js","original":{"line":59,"column":1}},{"name":"state","generated":{"line":59,"column":30},"source":"code.js","original":{"line":59,"column":8}},{"generated":{"line":59,"column":35},"source":"code.js","original":{"line":59,"column":1}},{"generated":{"line":60,"column":0},"source":"code.js","original":{"line":60,"column":1}},{"name":"xm","generated":{"line":60,"column":6},"source":"code.js","original":{"line":60,"column":5}},{"generated":{"line":60,"column":8},"source":"code.js","original":{"line":60,"column":7}},{"generated":{"line":60,"column":11},"source":"code.js","original":{"line":60,"column":10}},{"generated":{"line":60,"column":13},"source":"code.js","original":{"line":60,"column":1}},{"generated":{"line":62,"column":0},"source":"code.js","original":{"line":61,"column":1}},{"name":"state","generated":{"line":62,"column":6},"source":"code.js","original":{"line":61,"column":5}},{"generated":{"line":62,"column":11},"source":"code.js","original":{"line":61,"column":10}},{"name":"hero","generated":{"line":62,"column":12},"source":"code.js","original":{"line":61,"column":11}},{"generated":{"line":62,"column":16},"source":"code.js","original":{"line":61,"column":5}},{"name":"vel","generated":{"line":62,"column":17},"source":"code.js","original":{"line":61,"column":16}},{"generated":{"line":62,"column":20},"source":"code.js","original":{"line":61,"column":5}},{"name":"y","generated":{"line":62,"column":21},"source":"code.js","original":{"line":61,"column":20}},{"generated":{"line":62,"column":22},"source":"code.js","original":{"line":61,"column":5}},{"generated":{"line":62,"column":26},"source":"code.js","original":{"line":61,"column":25}},{"generated":{"line":62,"column":27},"source":"code.js","original":{"line":61,"column":26}},{"generated":{"line":62,"column":28},"source":"code.js","original":{"line":61,"column":1}},{"generated":{"line":62,"column":30},"source":"code.js","original":{"line":61,"column":28}},{"generated":{"line":62,"column":31},"source":"code.js","original":{"line":63,"column":2}},{"generated":{"line":62,"column":32},"source":"code.js","original":{"line":61,"column":1}},{"generated":{"line":62,"column":33},"source":"code.js","original":{"line":62,"column":2}},{"generated":{"line":63,"column":0},"source":"code.js","original":{"line":65,"column":1}},{"name":"time","generated":{"line":66,"column":0},"source":"code.js","original":{"line":66,"column":1}},{"name":"n","generated":{"line":66,"column":16},"source":"code.js","original":{"line":66,"column":6}},{"generated":{"line":66,"column":17},"source":"code.js","original":{"line":66,"column":1}},{"generated":{"line":67,"column":0},"source":"code.js","original":{"line":68,"column":1}},{"generated":{"line":67,"column":2},"source":"code.js","original":{"line":72,"column":0}},{"name":"init","generated":{"line":70,"column":0},"source":"code.js","original":{"line":73,"column":0}},{"generated":{"line":70,"column":4},"source":"code.js","original":{"line":73,"column":4}},{"name":"loop","generated":{"line":71,"column":0},"source":"code.js","original":{"line":75,"column":0}},{"generated":{"line":71,"column":4},"source":"code.js","original":{"line":75,"column":4}},{"generated":{"line":72,"column":0},"source":"code.js","original":{"line":76,"column":0}}],"sources":{"code.js":"import {init as initInput, readInput} from './inputs'\nimport {applyPhysics} from './physics'\nimport {createLvl} from './platforms'\nimport {Platform, LiveObj, State} from './classes'\nimport  time from './time'\nimport {initRender, render, loadAssets} from './canvasRenderer/canvasRenderer'\n\nlet state;\n\n\n// --- init -----------------\nfunction init(){\n\n\tinitRender();\n\tinitInput(window);\n\tinitState();\n\tloadAssets(state);\n\n}\n\nfunction initState(){\t \n\tstate = new State(createLvl());\n};\n\n\n \n// ---  update ----\n\nfunction pxToKm (y){\n\treturn y*((198/108) * Math.pow(10, -5))\n}\n\nfunction garbageCollector(){\n\tif (time.n % 10 != 0) return;// hразряжаем\n\n\tfor (let i = 0; i < state.enemies.length; i++){\n\t\tconst {x,y} = state.enemies[i].pos;\n\t\tif (y > 300 || x < -10){\n\t\t\t//delete state.enemies[i];\n\t\t\tstate.enemies.splice(i, 1);\n\t\n\t\t}\n\t}\n}\n\n\n\nfunction loop(){\n\n\twindow.requestAnimationFrame(loop);\n\tconst input = readInput(state, input);\n\tstate.updateState(input);\n\tapplyPhysics(state, input);\n\t    \n\t//console.log(state.enemies[0].pos.y);\n\t// zzxsz\n\t\n\tgarbageCollector();\n\trender(state);\n\tlet xm = 50\n\tif (state.hero.vel.y == -5){\n\t\t//new Platform(Math.random()*500,Math.random()*500,xm)\n\t}\n\t\n\t// update time\n\ttime.n++\n\t\n}\n\n\n\n//--- start -----------\ninit();\n\nloop();\n/*\nvar audioCtx = new AudioContext();\n\nvar oscillator = audioCtx.createOscillator();\nvar gainNode = audioCtx.createGain();\n\noscillator.connect(gainNode);\ngainNode.connect(audioCtx.destination);\n\noscillator.detune.value = 0; // value in cents\n oscillator.start(0);\n\nsetInterval(()=>{\n\toscillator.detune.value = 1200; // value in cents\n\t// oscillator.start(0);\n\t\n\tsetInterval(()=>{\n\t\toscillator.detune.value = 700; // value in cents\n\t\t\n\t\t\tsetInterval(()=>{\n\t\t\toscillator.detune.value = 00; // value in cents\n\t\t\t\toscillator.stop(3);\n\t\t\t\n\t\t\n\t\t}, 1000)\n\t}, 1000)\n}, 1000)\n\n*/\n\n"},"lineCount":null}},"error":null,"hash":"86893ecb38b31c4026652fd516789ee3","cacheData":{"env":{}}}